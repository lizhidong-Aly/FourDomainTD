	PRE_GAME_TIME=1
	INIT_GOLD=400000
	INIT_TECH_POINT=100
	SPAWN_DELAY=2
	unitRemaining=0
	Mode=1
	Difficulty=0
	TowerType={}
	TowerBuilding={}
	allplayerid={}
	difficulty=0
	refund=1
	ramingtime=60
	vote={}
	alltower={}
	remain={}
	towerUnlocked={}
	Tree={}
	_G.levelInfo={
		{name="level01",hp=101,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level02",hp=102,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level03",hp=103,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level04",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level05",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level06",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level07",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level08",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level09",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level10",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level11",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level12",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level13",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level14",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level15",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level16",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level17",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level18",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level19",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level20",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level21",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level22",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level23",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level24",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level25",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level26",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level27",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level28",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level29",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level30",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level31",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level32",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level33",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level34",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level35",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level36",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level37",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level38",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level39",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},
		{name="level40",hp=100,armor=0,magicRes=0,magicImmune=false,moveSpeed=300,hpRegen=1,dmg=1,abi={},baseGoldBounty=0,amount=20,distance=2},

	}
	worldPoint=Entities:FindByName(nil,"WorldCentre")


function SetDifficulty(index,keys)
	vote[keys.PlayerID]=keys.data
	local count={0,0,0}
	for i=0,#vote do
		if vote[i]==0 then
			count[1]=count[1]+1
		elseif vote[i]==1 then
			count[2]=count[2]+1
		elseif vote[i]==2 then
			count[3]=count[3]+1
		end
	end
	local ma=0
	local currdif=0
	for i=1,3 do
		if (count[i]>ma) then
			ma=count[i];
			currdif=i-1;
		end
	end
	CustomGameEventManager:Send_ServerToAllClients("CurrentDifficulty",{diff=currdif})
	
	difficulty=currdif
	if difficulty==0 then
		refund=1
	elseif difficulty==1 then
		refund=0.9
	elseif difficulty==2 then
		refund=0.6
	end
end
